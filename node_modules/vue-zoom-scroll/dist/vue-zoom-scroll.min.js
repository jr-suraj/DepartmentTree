var VueZoomScroll=function(e){"use strict";function t(){var e=document.head||document.getElementsByTagName("head")[0],i=t.styles||(t.styles={}),o="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(t,n){if(!document.querySelector('style[data-vue-ssr-id~="'+t+'"]')){var s=o?n.media||"default":t,a=i[s]||(i[s]={ids:[],parts:[],element:void 0});if(!a.ids.includes(t)){var l=n.source,r=a.ids.length;if(a.ids.push(t),n.map&&(l+="\n/*# sourceURL="+n.map.sources[0]+" */",l+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n.map))))+" */"),o&&(a.element=a.element||document.querySelector("style[data-group="+s+"]")),!a.element){var c=a.element=document.createElement("style");c.type="text/css",n.media&&c.setAttribute("media",n.media),o&&(c.setAttribute("data-group",s),c.setAttribute("data-next-index","0")),e.appendChild(c)}if(o&&(r=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",r+1)),a.element.styleSheet)a.parts.push(l),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var d=document.createTextNode(l),u=a.element.childNodes;u[r]&&a.element.removeChild(u[r]),u.length?a.element.insertBefore(d,u[r]):a.element.appendChild(d)}}}}}function i(e){i.installed||(i.installed=!0,e.component("VueZoomScroll",o))}var o=function(e,t,i,o,n,s,a,l){var r=("function"==typeof i?i.options:i)||{};r.__file="vue-zoom-scroll.vue",r.render||(r.render=e.render,r.staticRenderFns=e.staticRenderFns,r._compiled=!0,n&&(r.functional=!0)),r._scopeId=o;var c;if(t&&(c=function(e){t.call(this,a(e))}),void 0!==c)if(r.functional){var d=r.render;r.render=function(e,t){return c.call(t),d(e,t)}}else{var u=r.beforeCreate;r.beforeCreate=u?[].concat(u,c):[c]}return r}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"zoomScrollBG",staticClass:"zoom-scroll__bg",style:[{height:e.scrollDistance+"px"}]},[i("div",{ref:"zoomScrollContent",staticClass:"zoom-scroll__content",class:[{fixed:e.isInViewport},{stickToTop:e.stickContainerTop},{stickToBottom:e.stickContainerBottom}],style:[{transform:"scale("+e.scaleValue+")"},{"transform-origin":e.zoomOrigin},{"background-image":"url("+e.backgroundImage+")"},{"background-position":e.backgroundPosition},{"background-size":e.backgroundSize}]},[e._t("default")],2)])},staticRenderFns:[]},function(e){e&&e("data-v-1d1f1a8c_0",{source:".zoom-scroll__bg{position:relative;overflow:hidden}.zoom-scroll__content{position:absolute;left:0;height:100vh;width:100%;overflow:hidden}.zoom-scroll__content.fixed{position:fixed}.zoom-scroll__content.stickToBottom{bottom:0}.zoom-scroll__content.stickToTop{top:0}",map:void 0,media:void 0})},{props:{initialScale:{default:1,type:Number},maxScale:{default:10,type:Number},minScale:{default:1,type:Number},zoomIntensity:{default:50,type:Number},zoomDirection:{default:"in",type:String},backgroundImage:{default:"https://images.unsplash.com/photo-1527443154391-507e9dc6c5cc?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1650&q=80",type:String},backgroundPosition:{default:"center",type:String},backgroundSize:{default:"cover",type:String},zoomOrigin:{default:"50% 50%",type:String},scrollDistance:{default:2e3,type:Number}},data:function(){return{isInViewport:!1,containerBottom:0,containerHeight:0,contentBottom:0,stickContainerBottom:!1,stickContainerTop:!1,scrollProgress:0,scrollRange:0,scaleValue:0,isLoaded:!1}},methods:{handleZoomScroll:function(){this.containerBottom=this.$refs.zoomScrollBG.getBoundingClientRect().bottom-window.innerHeight,this.containerTop=this.$refs.zoomScrollBG.getBoundingClientRect().top,this.containerHeight=this.$refs.zoomScrollBG.getBoundingClientRect().height,this.contentBottom=-1*this.containerTop+window.innerHeight,this.scrollRange=this.containerHeight-window.innerHeight,this.isInViewport=this.containerBottom>=0&&this.containerTop<=0,!this.isLoaded&&this.containerBottom<0&&(this.scaleValue=this.initialScale+100/this.zoomIntensity,this.isLoaded=!0),this.isInViewport?(this.scrollProgress=100*(this.contentBottom-window.innerHeight)/this.scrollRange,"in"==this.zoomDirection?this.scaleValue=this.initialScale+this.scrollProgress/this.zoomIntensity:"out"==this.zoomDirection&&(this.scaleValue=this.initialScale-this.scrollProgress/this.zoomIntensity),this.scaleValue<this.minScale&&(this.scaleValue=this.minScale),this.scaleValue>this.maxScale&&(this.scaleValue=this.maxScale),this.$emit("stateChange",{isInViewport:!0,scrolledPercentage:parseInt(this.scrollProgress),currentScale:parseFloat(this.scaleValue).toFixed(4)})):this.containerBottom<0?(this.stickContainerBottom=!0,this.stickContainerTop=!1,this.$emit("stateChange",{isInViewport:!1,scrolledPercentage:100,currentScale:parseFloat(this.scaleValue).toFixed(4)})):(this.stickContainerBottom=!1,this.stickContainerTop=!0,this.$emit("stateChange",{isInViewport:!1,scrolledPercentage:0,currentScale:parseFloat(this.scaleValue).toFixed(4)})),window.requestAnimationFrame(this.handleZoomScroll)}},mounted:function(){"in"==this.zoomDirection&&this.initialScale>this.maxScale?this.scaleValue=this.maxScale:"out"==this.zoomDirection&&this.initialScale<this.minScale?this.scaleValue=this.minScale:this.scaleValue=this.initialScale,this.handleZoomScroll()}},void 0,!1,void 0,t,void 0),n={install:i},s=null;return"undefined"!=typeof window?s=window.Vue:"undefined"!=typeof global&&(s=global.Vue),s&&s.use(n),e.default=o,e}({});
